<p-toast key="tst" [baseZIndex]="99999"></p-toast>

<div class="login-body" style="display: flex; justify-content: center;">
  <div class="login-panel"
       style="position: absolute; top: 50%; transform: translate(0, -50%); height: auto; display: flex;align-items: stretch;">
    <div class="left-part">
      <p-messages [value]="msgs"></p-messages>
      <span class="login-panel-header">Registrarse en virtus</span>
      <span class="login-panel-subheader">Bienvenido, por favor utilice el formulario para registrarse en Virtus.
        Si ya tiene una cuenta, por favor  <a routerLink="/login" class="text-green-500"> inicie sesion </a> </span>
      <form [formGroup]="frmSingUp" (ngSubmit)="registerUser()">
        <div class="mt-3">
          <div class="field">
            <label>Apellidos:</label>
            <input type="text" autocomplete="off" class="w-full" pInputText formControlName="lastname"
                   [ngClass]=" (form['lastname'].invalid && (form['lastname'].dirty && form['lastname'].touched)) ?
                   'ng-dirty ng-invalid' : ''"/>
            <small *ngIf="form['lastname'].invalid && (form['lastname'].dirty && form['lastname'].touched)"
                   class="p-error">Este campo es requerido.</small>
          </div>
          <div class="field">
            <label>Nombres:</label>
            <input type="text" autocomplete="off" pInputText class="w-full" formControlName="name"
                   [ngClass]=" (form['name'].invalid && (form['name'].dirty && form['name'].touched)) ?
                   'ng-dirty ng-invalid' : ''"/>
            <small *ngIf="form['name'].invalid && (form['name'].dirty && form['name'].touched)"
                   class="p-error">Este campo es requerido.</small>
          </div>
          <div class="field">
            <label>Correo electronico:</label>
            <input type="email" autocomplete="off" pInputText class="w-full" formControlName="email"
                   [ngClass]=" (form['email'].invalid && (form['email'].dirty && form['email'].touched)) ?
                   'ng-dirty ng-invalid' : ''"/>
            <small *ngIf="form['email'].invalid && (form['email'].dirty && form['email'].touched)"
                   class="p-error">Este campo es requerido.</small>
          </div>
          <div class="field">
            <label>Contraseña:</label>
            <input type="password" autocomplete="new-password" pInputText class="w-full" formControlName="password"
                   pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[\w\W]{6,16}$"
                   pTooltip="La contraseña debe tener al entre 6 y 16 caracteres, al menos un dígito, al menos una
                   minúscula, al menos una mayúscula y al menos un caracter no alfanumérico." tooltipPosition="right"
                   [ngClass]=" (form['password'].invalid && (form['password'].dirty && form['password'].touched)) ?
                   'ng-dirty ng-invalid' : ''"/>
            <small *ngIf="form['password'].invalid && (form['password'].dirty && form['password'].touched)"
                   class="p-error">Este campo es requerido.</small> <br>
            <small *ngIf="!form['password'].valid">
              La contraseña no cumple con los requisitos planteados por el sistema.
            </small>
          </div>
          <div class="field">
            <label>Confirmar contraseña:</label>
            <input type="password" autocomplete="new-repeat_password" pInputText class="w-full"
                   pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[\w\W]{6,16}$"
                   formControlName="repeat_password"/>
            <small
              *ngIf="form['repeat_password'].invalid && (form['repeat_password'].dirty && form['repeat_password'].touched)"
              class="p-error">Este campo es requerido.</small>
            <small class="p-error" *ngIf="form['password'].value !== form['repeat_password'].value">Las contraseñas
              debden de coincidir
            </small>
          </div>
        </div>
        <div class="col-12 text-center">
          <button type="submit" pButton label="Registrarse" class="p-button-raised w-full mb-3"
                  [disabled]="frmSingUp.invalid"></button>
        </div>
      </form>
    </div>
    <div class="right-part bg-blue-50 imgRight">
    </div>
  </div>
  <p-scrollTop target="window" styleClass="custom-scrolltop" [threshold]="100" icon="pi pi-arrow-up"></p-scrollTop>

</div>
